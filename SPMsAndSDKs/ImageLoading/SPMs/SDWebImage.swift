//
//  SDWebImage.swift
//  SPMsAndSDKs
//
//  Created by –ê–ª–∞–Ω –ü–∞—Ä–∞—Å—Ç–∞–µ–≤ on 23.11.2025.
//

/*
 ‚ú¥Ô∏è SDWebImageSwiftUI ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Å–µ—Ç–∏:
    ‚û°Ô∏è —É–º–µ–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å
    ‚û°Ô∏è —É–º–µ–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å placeholder
    ‚û°Ô∏è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç WebImage
 */
import SwiftUI
import SDWebImageSwiftUI


/*
  üü° SDWedImageLoader ‚Üí –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ SDWebImage
 
  üü¢ WebImage(url:)
     –ö–æ–º–ø–æ–Ω–µ–Ω—Ç SDWebImageSwiftUI.–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ URL –∏ –∫—ç—à–∏—Ä—É–µ—Ç –µ–≥–æ
     –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI, –∫–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞

  üü¢ .resizable()
     –î–µ–ª–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ–º—ã–º –ø–æ —Ä–∞–∑–º–µ—Ä—É.

  üü¢ .aspectRatio(...)
      –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç, –∫–∞–∫ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
     .fill ‚Äî –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤–æ–∑–º–æ–∂–Ω–æ –æ–±—Ä–µ–∑–∞–≤
     .fit ‚Äî –≤–ø–∏—Å–∞—Ç—å –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏
 */
 struct SDWedImageLoader: View {
    
    let url: String
    var contentMode: ContentMode = .fill
    
    var body: some View {
        WebImage(url: URL(string: url))
            .resizable()
            .aspectRatio(contentMode: contentMode)
    }
}


/*
 üü° SDWebImage ‚Üí —Å—Ç—Ä–æ–∏—Ç –∫–Ω–æ–ø–∫—É, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.
   ‚ö†Ô∏è B –Ω—É—Ç—Ä–∏ Button { –¥—Ä—É–≥–∞—è –∫–Ω–æ–ø–∫–∞ SDWedImageLoader —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
 
 üü¢ SDWedImageLoader(url: ..., contentMode: .fill)
   –ó–∞–≥—Ä—É–∂—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

 üü¢ .onAppear
    –ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
    ImagePrefetcher.instance.startPrefetching(...), —ç—Ç–æ –º—ã –≤—ã–∑—ã–≤–∞–µ–º –ø—Ä–µ–∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –∑–∞—Ä–∞–Ω–µ–µ –¥–ª—è –±—É–¥—É—â–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ ,—á—Ç–æ –±—ã –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–π–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É–π—â–∏–π —ç–∫—Ä–∞–Ω –∫–∞—Ä—Ç–∏–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∑–∏–ª–∏—Å—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
 */
struct SDWebImage: View {
    var body: some View {
        Button {
            
        } label: {
            ImageLoader(
                url: "https://picsum.photos/id/237/200/300",
                contentMode: .fill
            )
            .frame(width: 200, height: 200)
            .onAppear {
               // ImagePrefetcher.instance.startPrefetching(urls: )
            }
        }

        
    }
}

#Preview {
    SDWebImage()
}
