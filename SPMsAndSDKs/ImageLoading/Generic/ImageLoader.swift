//
//  ImageLoader.swift
//  SPMsAndSDKs
//
//  Created by –ê–ª–∞–Ω –ü–∞—Ä–∞—Å—Ç–∞–µ–≤ on 25.11.2025.
//

import SwiftUI

/*
‚ú¥Ô∏è ImageLoader ‚Äî —ç—Ç–æ –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ (SDWedImageLoader –∏–ª–∏ KINGFISHER) —á–µ—Ä–µ–∑ overlay –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö –Ω–µ–≤–∏–¥–∏–º–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

 üî¥  –≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞(ImageLoader) –æ–±—ë—Ä—Ç–∫–∞, –æ–Ω–∞ –Ω—É–∂–Ω–∞ —á—Ç–æ –±—ã –≤ –±—É–¥—É—â–µ–º –µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–µ—Ä–∏–Ω–≥, –µ—Å–ª–∏ –∫ –ø—Ä–∏–º–µ—Ä—É —è –∑–∞—Ö–æ—á—É —Å–º–µ–Ω–∏—Ç—å SDK –Ω–∞–ø—Ä–∏–º–µ—Ä –Ω–∞ KINGFISHER –º–Ω–µ –ø—Ä–æ—Å—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—É–¥–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å—Ç –∫–æ–¥ –≤ overlay –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π SDK —á–µ—Ä–∑ if else –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–¥—å –≤—Å–µ –ø—Ä–µ–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ ImageLoader
 
     ‚ö†Ô∏è ImageLoader –û–ë–©–ò–ô –ó–ê–ì–†–£–ó–ß–ò–ö –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô –ò–ú–ï–ù–ù–û –ï–ì–û –ú–´ –£–ö–ê–ó–´–ê–ï–ú –í –û–°–ù–û–í–ù–û–ô –°–¢–†–£–ö–¢–£–†–ï –ò –ß–ï–†–ï–ó –ù–ï–ì–û –†–ê–ë–û–¢–ê–ï–ú –í–û –í–°–ï–ú –ü–†–ò–õ–û–ñ–ï–ù–ò–ò, –ê –û–ù –í –°–í–û–Æ –û–ß–ï–†–ï–î–¨ –û–ë–†–ê–©–ê–ï–¢–°–Ø –ö SDWedImageLoader

 üü¢ url ‚Äî —Å—Ç—Ä–æ–∫–∞ —Å URL –∫–∞—Ä—Ç–∏–Ω–∫–∏.
 üü¢ contentMode ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä, –∫–∞–∫ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (.fill –∏–ª–∏ .fit).

 üü¢ Rectangle().opacity(0)
    ‚û°Ô∏è –û—Å–Ω–æ–≤–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ ‚Äî –ø—É—Å—Ç–æ–π Rectangle()
    ‚û°Ô∏è –°–æ–∑–¥–∞—ë—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –ù–ï –≤–∏–¥–∏–º—ã–π –Ω–∞ —ç–∫—Ä–∞–Ω–µ (–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å = 0).
    ‚ö†Ô∏è –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫(Rectangle()) —ç—Ç–æ –ø–æ–¥–ª–æ–∂–∫–∞(–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä), –ø–æ–≤–µ—Ä—Ö –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–ª–æ–∂–∏—Ç—å –∫–∞—Ä—Ç–∏–Ω–∫—É, —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á—Ç–æ –±—ã –∫–∞—Ç—Ä–∏–Ω–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–µ–∑–∞–ª–∞—Å—å

  üü¢ .overlay {
     SDWedImageLoader(...)
         .allowsHitTesting(false)
     }
    ‚û°Ô∏è –í overlay –∫–ª–∞–¥—ë—Ç—Å—è –¥—Ä—É–≥–∞—è –≤—å—é, –∫–æ—Ç–æ—Ä–∞—è –≤–∏–∑—É–∞–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–≤–µ—Ä—Ö –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∞.
    ‚ö†Ô∏è allowsHitTesting(false) –æ—Ç–∫–ª—é—á–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ –∫–∞—Å–∞–Ω–∏—è–º), —Ç–æ–µ—Å—Ç—å –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É –º—ã –Ω–µ –º–æ–∂–µ–º –Ω–∞–∂–∞—Ç—å, –Ω–æ –µ—Å–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –≤ –∫–Ω–æ–ø–∫—É(Button) –æ–Ω–∞ –±—É–¥–µ—Ç —Ä–∞–æ—Ç–∞—Ç—å –Ω–æ –ø–æ —Ñ–∞–∫—Ç—É –±—É–¥–µ–º –Ω–∞–∂–∏–º–∞—Ç—å –∏ –≤–∑–∞–∏–º–æ–¥–µ—Å—Ç–≤–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø–æ–¥–ª–æ–∂–∫—É(–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫)

  üü¢ .clipped()
     ‚û°Ô∏è –û–±—Ä–µ–∑–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ –≥—Ä–∞–Ω–∏—Ü–∞–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
     ‚û°Ô∏è –ï—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –±–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Üí –ª–∏—à–Ω–µ–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è.
 */
struct ImageLoader: View {
    
    let url: String
    var contentMode: ContentMode = .fill
    
    var body: some View {
        Rectangle()
            .opacity(0)
            .overlay {
                SDWedImageLoader(url: url, contentMode: contentMode)
                //KingfisherImageLoader(url: url, contentMode: contentMode)
                    .allowsHitTesting(false)
            }
            .clipped()
    }
}

#Preview {
    ImageLoader(
        url: "https://picsum.photos/id/237/200/300",
        contentMode: .fill
    )
}
